(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4752:function(e,o,t){Promise.resolve().then(t.bind(t,6774))},6774:function(e,o,t){"use strict";t.r(o);var l=t(7437),s=t(2265),r=t(2440);let i=e=>{let o={publication:{"RADx-rad":{symbol:"circle",symbolSize:3,itemStyle:{color:"#FF4500",shadowColor:"#FFD700",shadowBlur:20}},"RADx-UP":{symbol:"circle",symbolSize:3,itemStyle:{color:"#006400",shadowColor:"#00FF00",shadowBlur:20}},"RADx Tech":{symbol:"circle",symbolSize:3,itemStyle:{color:"#0000FF",shadowColor:"#0000FF",shadowBlur:20}},"RADx DHT":{symbol:"circle",symbolSize:3,itemStyle:{color:"#FFFF00",shadowColor:"#FFFF00",shadowBlur:20}}},study:{"RADx-rad":{symbol:"rect",symbolSize:6,itemStyle:{color:"#FF4500",shadowColor:"#FFD700",shadowBlur:20}},"RADx-UP":{symbol:"rect",symbolSize:6,itemStyle:{color:"#006400",shadowColor:"#00FF00",shadowBlur:20}},"RADx Tech":{symbol:"rect",symbolSize:6,itemStyle:{color:"#0000FF",shadowColor:"#0000FF",shadowBlur:20}},"RADx DHT":{symbol:"rect",symbolSize:6,itemStyle:{color:"#FFFF00",shadowColor:"#FFFF00",shadowBlur:20}}},dataset:{"RADx-rad":{symbol:"diamond",symbolSize:6,itemStyle:{color:"#FF4500",shadowColor:"#FFD700",shadowBlur:10}},"RADx-UP":{symbol:"diamond",symbolSize:6,itemStyle:{color:"#006400",shadowColor:"#00FF00",shadowBlur:10}},"RADx Tech":{symbol:"diamond",symbolSize:6,itemStyle:{color:"#0000FF",shadowColor:"#0000FF",shadowBlur:10}},"RADx DHT":{symbol:"diamond",symbolSize:6,itemStyle:{color:"#FFFF00",shadowColor:"#FFFF00",shadowBlur:10}}},author:{"RADx-rad":{symbol:"triangle",symbolSize:3,itemStyle:{color:"#FFFFFF",shadowColor:"#FFFFFF",shadowBlur:10}},"RADx-UP":{symbol:"triangle",symbolSize:3,itemStyle:{color:"#FFFFFF",shadowColor:"#FFFFFF",shadowBlur:10}},"RADx Tech":{symbol:"triangle",symbolSize:3,itemStyle:{color:"#FFFFFF",shadowColor:"#FFFFFF",shadowBlur:10}},"RADx DHT":{symbol:"triangle",symbolSize:3,itemStyle:{color:"#FFFFFF",shadowColor:"#FFFFFF",shadowBlur:10}},"RADx-rad-UP":{symbol:"triangle",symbolSize:3,itemStyle:{color:"#FFFFFF",shadowColor:"#FFFFFF",shadowBlur:10}}}};return e.map(e=>{var t,l;let{nodeType:s,category:r}=e;if("publication"===s&&o.publication[r]){let{symbol:t,symbolSize:l,itemStyle:s}=o.publication[r];e.symbol=t,e.symbolSize=l,e.itemStyle=s}else if("study"===s&&(null===(t=o.study)||void 0===t?void 0:t[r])){let{symbol:t,symbolSize:l,itemStyle:s}=o.study[r];e.symbol=t,e.symbolSize=l,e.itemStyle=s}else if("dataset"===s&&(null===(l=o.dataset)||void 0===l?void 0:l[r])){let{symbol:t,symbolSize:l,itemStyle:s}=o.dataset[r];e.symbol=t,e.symbolSize=l,e.itemStyle=s}else if("author"===s){let t=o.author[r]||o.author.default;e.symbol=t.symbol,e.symbolSize=t.symbolSize,e.itemStyle=t.itemStyle}else e.symbol="roundRect",e.symbolSize=2;return e})},a=e=>({backgroundColor:"#000000",tooltip:{},legend:{data:e.categories.map(e=>e.name),textStyle:{color:"#fff"}},series:[{type:"graph",layout:"none",large:!0,largeThreshold:1e3,progressive:1e3,progressiveThreshold:1e3,data:e.nodes,links:e.links,categories:e.categories,roam:!0,label:{show:!1,position:"right",formatter:"{b}"},emphasis:{disabled:!0},states:{draggable:{itemStyle:{shadowBlur:0,opacity:.5},lineStyle:{width:.5,opacity:.1}}},labelLayout:{hideOverlap:!0},scaleLimit:{min:.1,max:200},edgeSymbolSize:[2,10],lineStyle:{color:"source",curveness:.2}}]});o.default=()=>{let e=(0,s.useRef)(null),o=(0,s.useRef)(),[t,d]=(0,s.useState)([]),[n,F]=(0,s.useState)(""),[c,y]=(0,s.useState)([]);(0,s.useEffect)(()=>{if(!e.current)return;let t=r.S1(e.current);return o.current=t,t.showLoading(),fetch("/data/radx_studies_datasets_publications_edges.json").then(e=>e.json()).then(e=>{t.hideLoading(),e.nodes=i(e.nodes),d(e.nodes),t.setOption(a(e))}).catch(e=>{console.error(e),t.hideLoading()}),()=>{t.dispose()}},[]),(0,s.useEffect)(()=>{let e=o.current;if(!e)return;e.dispatchAction({type:"downplay",seriesIndex:0});let l=n.toLowerCase(),s=t.filter(e=>{var o;return String(null!==(o=e.name)&&void 0!==o?o:"").toLowerCase().includes(l)});y(s),s.forEach(o=>{let l=t.indexOf(o);e.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:l})})},[n,t]);let h=(0,s.useRef)(null),u=e=>{let t=o.current;if(t){if(h.current===e){t.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:e}),t.dispatchAction({type:"hideTip"}),h.current=null;return}null!=h.current&&t.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:h.current}),t.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:e}),t.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:e}),h.current=e}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("input",{type:"text",placeholder:"Search nodes…",value:n,onChange:e=>F(e.target.value),style:{position:"absolute",top:12,left:12,zIndex:20,padding:"6px 8px",borderRadius:4,border:"1px solid #ccc",background:"#fff"}}),(0,l.jsxs)("div",{style:{position:"absolute",top:48,left:12,zIndex:20,maxHeight:"50vh",width:300,overflowY:"auto",background:"rgba(255,255,255,0.9)",border:"1px solid #ddd",borderRadius:4,padding:8},children:[c.map((e,o)=>{let s=t.indexOf(e);return(0,l.jsxs)("div",{onClick:()=>u(s),style:{marginBottom:6,cursor:"pointer",padding:4,borderRadius:2,background:String(e.name).toLowerCase().includes(n.toLowerCase())&&n?"rgba(0, 150, 250, 0.1)":"transparent"},children:[(0,l.jsx)("strong",{style:{fontSize:14},children:e.name}),(0,l.jsxs)("div",{style:{fontSize:12,color:"#555"},children:[e.category," — ",e.nodeType]})]},e.id)}),0===c.length&&n&&(0,l.jsx)("div",{style:{fontSize:12,color:"#999"},children:"No matches"})]}),(0,l.jsx)("div",{ref:e,style:{width:"100vw",height:"100vh"}})]})}}},function(e){e.O(0,[440,971,23,744],function(){return e(e.s=4752)}),_N_E=e.O()}]);